<!DOCTYPE html>
<html lang="en">
<head>
	<!-- no problem either: <meta charset="ISO-8859-1">-->
	<meta charset="UTF-8">
	<title>test</title>
	<script src="./numeral.min.js"></script>
	<script src="./locales.min.js"></script>
	<script src="./moment-with-locales.js"></script>
	<script src="./i18nextify.js"></script>
	<script language="JavaScript">
        window.i18nextify.init({
            backend: {
                keyAttr: 'i18next-key', //the key overrides
                loadPath: 'http://127.0.0.1:8080/assets/i18n/{{lng}}.json'
            },
            interpolation: {
                /**
                 * when interpolates variables with comma {{date,}}) goes this way
                 * @param value
                 * @param format
                 * @param locale
                 * @returns {*}
                 */
                format(value, format, locale) {
                    console.log(arguments)
	                if (!isNaN(value))
	                {
		                numeral.locale(locale)
	                    return numeral(value).format(format)
	                }
                    try {
						var theDate=moment(value)
						if (theDate.isValid()) return theDate.locale(locale).format(format);
						return value;
                    } catch(e)
                    {
                        return value;
                    }
                    return value
                }
            }
        });
	</script>
</head>
<!-- to not flicker when loads: -->
<body style="display: none">
<div id="text-to-translate-1">my title</div>
<div id="text-to-translate-2">title</div>
<!-- example of key overriding for same text, solving duplicity problem-->
<div id="text-to-translate-3" i18next-key="another title">my title</div>

<a href="#" title="Works on title" alt="Works on title">hover me</a>
<div id="text-to-translate-with-name">I am <span>Christian</span> and I work in <span>Dexeus</span></div>
<div id="non-date-interpolation" i18next-options='{"name": "Christian"}'>Hi, {{name}}</span></div>
<div id="localize-date">I was born in <span i18next-options='{"date": "22/08/2018"}'>{{- date}}</span></div>
<div id="localize-date-2">I was born in <span i18next-options='{"date": "2018-08-22"}'>nacimiento</span></div>
<div id="localize-date-3">I was born in <span i18next-options='{"date": "2018-08-22"}'>{{- date, LLLL}}</span></div>
<div id="localize-number" i18next-options='{"number": "300023e-2"}'>{{number,0,0.00}}</span></div>
<div id="localize-currency" i18next-options='{"number": "300023e-2"}'>{{number,$0,0.00}}</span></div>


<!--
	when no lng parameter specified,
	it detects the language based on: chrome://settings/languages
   (accept-language header)
-->
</body>
</html>